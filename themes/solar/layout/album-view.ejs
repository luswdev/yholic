<article class="post" itemscope itemtype="http://schema.org/BlogPosting">
    <header>
      <%- partial('_partial/post/title', { post: page, index: false, class_name: 'posttitle' }) %>
      <div class="meta">
        <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <span itemprop="name"><% if (page.author) { %><%- page.author %><% } else { %><%- config.title %><% } %></span>
        </span>
        <%- partial('_partial/post/date', { post: page, class_name: 'postdate' }) %>
        <%- partial('_partial/post/tag') %>
      </div>
    </header>
    <%- partial('_partial/post/gallery') %>
    <div class="content" itemprop="articleBody">
      <%- page.content %>
    </div>
</article>

<section id="playlist">
    <h1>收錄曲目</h1>
<%
// Filter posts in the 'growth-theory' subdirectory
let albumPlaylist = site.posts.filter(post => post.source.startsWith("_posts/" + page.id));

albumPlaylist.forEach(post => {
%>
    <p><a href="<%= post.permalink %>"><%= post.title %></a></p>
<%
});
%>
</section>
